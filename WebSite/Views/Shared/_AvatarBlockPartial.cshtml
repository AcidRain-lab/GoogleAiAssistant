@model MediaLib.DTO.AvatarDTO

<div class="client-avatar text-center">
    @if (Model?.Base64Image != null)
    {
        <img src="data:image/png;base64,@Model.Base64Image" alt="Client Avatar" class="mb-3 rounded-circle" style="width: 150px; height: 150px; object-fit: cover;">
    }
    else
    {
        <img src="/images/placeholder-avatar.png" alt="Placeholder Avatar" class="mb-3 rounded-circle" style="width: 150px; height: 150px; object-fit: cover;">
    }

    <form asp-action="UpdateAvatar" asp-controller="@ViewData["ControllerName"]" method="post" enctype="multipart/form-data" class="mt-3">
        @Html.AntiForgeryToken()
        <input type="hidden" name="AssociatedRecordId" value="@ViewData["AssociatedRecordId"]" />
        <div class="form-group">
            <label class="btn btn-outline-primary btn-sm">
                <i class="bi bi-camera"></i> Change Avatar
                <input type="file" name="avatarFile" class="d-none" accept="image/*" onchange="this.form.submit()" />
            </label>
        </div>
    </form>
</div>
